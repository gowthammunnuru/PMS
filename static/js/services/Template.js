// Generated by CoffeeScript 1.8.0
"use strict";
angular.module("perform").service("Template", [
  "WS", "$q", function(WS, $q) {
    this.cache = {};
    this.getAllTemplateTypes = function(year, rname) {
      var allTemplates;
      if (!this.cache.allTemplates) {
        return WS.getAllTemplateTypes(year, rname).then((function(_this) {
          return function(response) {
            _this.cache.allTemplates = response;
            return response;
          };
        })(this));
      } else {
        allTemplates = this.cache.allTemplates;
        return $q.when(allTemplates);
      }
    };
    this.getTemplate = (function(_this) {
      return function(templateID, year, rname) {
        return _this.getAllTemplateTypes(year, rname).then(function(response) {
          return response[templateID];
        });
      };
    })(this);
  }
]);
