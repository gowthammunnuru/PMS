// Generated by CoffeeScript 1.10.0
(function() {
  "use strict";
  angular.module("perform").service("PagerService", [
    function() {
      this.GetPager = function(totalItems, currentPage, pageSize) {
        var endIndex, endPage, pages, startIndex, startPage, totalPages;
        currentPage = currentPage || 1;
        pageSize = pageSize || 50;
        totalPages = Math.ceil(totalItems / pageSize);
        startPage = void 0;
        endPage = void 0;
        if (totalPages <= 10) {
          startPage = 1;
          endPage = totalPages;
        } else {
          if (currentPage <= 6) {
            startPage = 1;
            endPage = 10;
          } else if (currentPage + 4 >= totalPages) {
            startPage = totalPages - 9;
            endPage = totalPages;
          } else {
            startPage = currentPage - 5;
            endPage = currentPage + 4;
          }
        }
        startIndex = (currentPage - 1) * pageSize;
        endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1);
        pages = _.range(startPage, endPage + 1);
        return {
          totalItems: totalItems,
          currentPage: currentPage,
          pageSize: pageSize,
          totalPages: totalPages,
          startPage: startPage,
          endPage: endPage,
          startIndex: startIndex,
          endIndex: endIndex,
          pages: pages
        };
      };
    }
  ]);

}).call(this);
